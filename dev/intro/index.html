<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting started · SpinGlassPEPS.jl</title><meta name="title" content="Getting started · SpinGlassPEPS.jl"/><meta property="og:title" content="Getting started · SpinGlassPEPS.jl"/><meta property="twitter:title" content="Getting started · SpinGlassPEPS.jl"/><meta name="description" content="Documentation for SpinGlassPEPS.jl."/><meta property="og:description" content="Documentation for SpinGlassPEPS.jl."/><meta property="twitter:description" content="Documentation for SpinGlassPEPS.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SpinGlassPEPS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting started</a><ul class="internal"><li><a class="tocitem" href="#Basic-example"><span>Basic example</span></a></li></ul></li><li><a class="tocitem" href="../algorithm/">Brief description of the algorithm</a></li><li><a class="tocitem" href="../examples/">More examples</a></li><li><span class="tocitem">SpinGlassNetworks</span><ul><li><a class="tocitem" href="../sgn/userguide/">User guide</a></li><li><a class="tocitem" href="../sgn/ising/">Ising graph</a></li><li><a class="tocitem" href="../sgn/lattice/">Lattice geometries</a></li><li><a class="tocitem" href="../sgn/clh/">Potts hamiltonian</a></li><li><a class="tocitem" href="../sgn/bp/">Local dimensional reduction</a></li></ul></li><li><span class="tocitem">SpinGlassEngine</span><ul><li><a class="tocitem" href="../sge/guide/">User Guide</a></li><li><a class="tocitem" href="../sge/peps/">Tensor network</a></li><li><a class="tocitem" href="../sge/params/">Search parameters</a></li><li><a class="tocitem" href="../sge/search/">Low energy spectrum</a></li></ul></li><li><span class="tocitem">SpinGlassTensors</span><ul><li><a class="tocitem" href="../sgt/">User guide</a></li><li><a class="tocitem" href="../sgt/mpo/">Matrix Product States and Matrix Product Operations</a></li><li><a class="tocitem" href="../sgt/api/">API Reference</a></li></ul></li><li><a class="tocitem" href="../examples/">More examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting started</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/euro-hpc-pl/SpinGlassPEPS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/euro-hpc-pl/SpinGlassPEPS.jl/blob/master/docs/src/intro.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h1><p>Before diving into the documentation for the provided functionalities, let&#39;s demonstrate the core capabilities of this package through a practical example.</p><h2 id="Basic-example"><a class="docs-heading-anchor" href="#Basic-example">Basic example</a><a id="Basic-example-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-example" title="Permalink"></a></h2><p>In this example, we demonstrate how to use the <code>SpinGlassPEPS.jl</code> package to calculate a low-energy spectrum for a spin glass Hamiltonian defined on a square lattice with diagonal interactions. </p><pre><code class="language- hljs">using SpinGlassPEPS

function get_instance(topology::NTuple{3, Int})
    m, n, t = topology
    &quot;$(@__DIR__)/instances/$(m)x$(n)x$(t).txt&quot;
end


function run_square_diag_bench(::Type{T}; topology::NTuple{3, Int}) where {T}
    m, n, _ = topology
    instance = get_instance(topology)
    lattice = super_square_lattice(topology)

    best_energies = T[]

    potts_h = potts_hamiltonian(
        ising_graph(instance),
        spectrum = full_spectrum,
        cluster_assignment_rule = lattice,
    )

    params = MpsParameters{T}(; bond_dim = 16, num_sweeps = 1)
    search_params = SearchParameters(; max_states = 2^8, cutoff_prob = 1E-4)

    for transform ∈ all_lattice_transformations
        net = PEPSNetwork{KingSingleNode{GaugesEnergy}, Dense, T}(
            m, n, potts_h, transform,
        )

        ctr = MpsContractor(SVDTruncate, net, params; 
            onGPU = false, beta = T(2), graduate_truncation = true,
        )

        droplets = SingleLayerDroplets(; max_energy = 10, min_size = 5, metric = :hamming)
        merge_strategy = merge_branches(
            ctr; merge_prob = :none , droplets_encoding = droplets,
        )

        sol, schmidts = low_energy_spectrum(ctr, search_params, merge_strategy)
        droplets = unpack_droplets(sol, T(2))
        ig_states = decode_potts_hamiltonian_state.(Ref(potts_h), droplets.states)
        ldrop = length(droplets.states)

        println(&quot;Number of droplets for transform $(transform) is $(ldrop)&quot;)

        push!(best_energies, sol.energies[1])
        clear_memoize_cache()
    end

    ground = best_energies[1]
    @assert all(ground .≈ best_energies)

    println(&quot;Best energy found: $(ground)&quot;)
end


T = Float64
@time run_square_diag_bench(T; topology = (3, 3, 2))</code></pre><h3 id="Main-steps"><a class="docs-heading-anchor" href="#Main-steps">Main steps</a><a id="Main-steps-1"></a><a class="docs-heading-anchor-permalink" href="#Main-steps" title="Permalink"></a></h3><p>Let’s walk through the key steps of the code.</p><h4 id="Defining-the-lattice"><a class="docs-heading-anchor" href="#Defining-the-lattice">Defining the lattice</a><a id="Defining-the-lattice-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-the-lattice" title="Permalink"></a></h4><p>The first line of the code above loads the problem instance using the <code>get_instance</code> function:</p><pre><code class="language- hljs">instance = get_instance(topology)</code></pre><p>Here, <code>topology</code> is a tuple <code>(m, n, t)</code> representing the dimensions of the lattice <code>m</code>, <code>n</code> and the cluster size <code>t</code>. The <code>get_instance</code> function constructs the file path to the corresponding problem instance, based on the provided topology.</p><p>The topology of the lattice is specified: </p><pre><code class="language- hljs">topology = (3, 3, 2)
m, n, _ = topology</code></pre><p>This defines a 3x3 grid with clusters of size 2.</p><h4 id="Defining-the-Hamiltonian"><a class="docs-heading-anchor" href="#Defining-the-Hamiltonian">Defining the Hamiltonian</a><a id="Defining-the-Hamiltonian-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-the-Hamiltonian" title="Permalink"></a></h4><p>Then we map the Ising problem to an effective Potts Hamiltonian defined on a king’s graph (<code>super_square_lattice</code>):</p><pre><code class="language- hljs">potts_h = potts_hamiltonian(
ising_graph(instance),
spectrum = full_spectrum,
cluster_assignment_rule = super_square_lattice(topology),
)</code></pre><p>Here, <code>ising_graph(instance)</code> reads the Ising graph from the provided file and the spins are grouped into clusters based on the <code>super_square_lattice</code> rule, which performs transformation of linear Ising spin indices to clustered hamiltonian coordinate system.</p><h4 id="Setting-parameters"><a class="docs-heading-anchor" href="#Setting-parameters">Setting parameters</a><a id="Setting-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-parameters" title="Permalink"></a></h4><p>To control the complexity and accuracy of the simulation, we define several parameters:</p><pre><code class="language- hljs">params = MpsParameters{T}(; bond_dim = 16, num_sweeps = 1)
search_params = SearchParameters(; max_states = 2^8, cutoff_prob = 1E-4)</code></pre><ul><li><code>bond_dim = 16</code>: The bond dimension for the tensor network.</li><li><code>num_sweeps = 1</code>: Number of sweeps during variational compression.</li><li><code>max_states = 2^8</code>: Maximum number of states considered during the search.</li><li><code>cutoff_prob = 1E-4</code>: The cutoff probability specifies the probability below which states are discarded from further consideration.</li></ul><h4 id="Tensor-network-construction-and-contraction"><a class="docs-heading-anchor" href="#Tensor-network-construction-and-contraction">Tensor network construction and contraction</a><a id="Tensor-network-construction-and-contraction-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-network-construction-and-contraction" title="Permalink"></a></h4><p>The tensor network representation of the system is created using the <code>PEPSNetwork</code> structure:</p><pre><code class="language- hljs">net = PEPSNetwork{KingSingleNode{GaugesEnergy}, Dense, T}(m, n, potts_h, transform)</code></pre><p>This constructs a PEPS network based on the <code>KingSingleNode</code>, which specifies the type of the node used within the tensor networks. The layout <code>GaugesEnergy</code> defines how the tensor network is divided into Matrix Product Operators (MPO).  Other control parameter includes <code>Sparsity</code> which determines whether dense or sparse tensors should be used. In this example, as we apply small clusters containing two spins, we can use <code>Dense</code> mode. The parameter <code>T</code> represents the data type used for numerical calculations. In this example, we set: </p><pre><code class="language- hljs">T = Float64</code></pre><p>Here, <code>Float64</code> specifies that the computations will be performed using 64-bit floating-point numbers, which is a common choice in scientific computing for balancing precision and performance. One can also use <code>Float32</code>. The contraction of the tensor network is handled by the <code>MpsContractor</code>:</p><pre><code class="language- hljs">ctr = MpsContractor(SVDTruncate, net, params; 
    onGPU = false, beta = T(2), graduate_truncation = true,
)</code></pre><p>The parameters for the <code>MpsContractor</code> include:</p><ul><li><code>Strategy</code> refers to the method used for approximating boundary Matrix Product States. Here <code>Strategy</code> is set to <code>SVDTruncate</code>.</li><li><code>onGPU = false</code>: Here computations are done on the CPU. If you want to switch on GPU mode, then type</li></ul><pre><code class="language- hljs">onGPU = true</code></pre><ul><li><code>beta = T(2)</code>: Inverse temperature, here set to 2. Higher value (lower temperature) allows us to focus on low-energy states.</li><li><code>graduate_truncation = true</code>: Enabling gradual truncation of the MPS.</li></ul><h4 id="Searching-for-excitations"><a class="docs-heading-anchor" href="#Searching-for-excitations">Searching for excitations</a><a id="Searching-for-excitations-1"></a><a class="docs-heading-anchor-permalink" href="#Searching-for-excitations" title="Permalink"></a></h4><p>The branch-and-bound search algorithm is used to find low-energy excitations:</p><pre><code class="language- hljs">droplets = SingleLayerDroplets(; max_energy = 10, min_size = 5, metric = :hamming)
merge_strategy = merge_branches(ctr; merge_prob = :none , droplets_encoding = droplets)</code></pre><p>Here, the parameter <code>max_energy</code> sets the energy range within which we look for excitations above the ground state. The <code>min_size</code> parameter enforces a minimum Hamming distance between excitations, ensuring that the algorithm searches for distinct, independent excitations. The optional <code>merge_branches</code> function allows us to identify spin glass droplets.</p><h4 id="Multiple-lattice-transformations"><a class="docs-heading-anchor" href="#Multiple-lattice-transformations">Multiple lattice transformations</a><a id="Multiple-lattice-transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-lattice-transformations" title="Permalink"></a></h4><p>We apply different lattice transformations to the problem, iterating over all possible transformations:</p><pre><code class="language- hljs">for transform ∈ all_lattice_transformations
    ...
end</code></pre><p>This loop applies all possible transformations (rotations and reflections) to the 2D lattice. By exploring all eight transformations, the algorithm can start the contraction process from different points on the lattice, improving stability and increasing the chances of finding the global minimum energy state.</p><h4 id="Low-energy-spectrum-calculation"><a class="docs-heading-anchor" href="#Low-energy-spectrum-calculation">Low-energy spectrum calculation</a><a id="Low-energy-spectrum-calculation-1"></a><a class="docs-heading-anchor-permalink" href="#Low-energy-spectrum-calculation" title="Permalink"></a></h4><p>Finally, the low-energy spectrum is calculated with:</p><pre><code class="language- hljs">sol, schmidts = low_energy_spectrum(ctr, search_params, merge_strategy)
droplets = unpack_droplets(sol, T(2))
ig_states = decode_potts_hamiltonian_state.(Ref(potts_h), droplets.states)</code></pre><p>This function returns the Solution structure <code>sol</code> along with the <code>schmidts</code> - smallest retained singular value of boundary MPSs. In the Solution structure one can find not only states with the lowest energy, their probabilities and largest probability discarded during the search, but also spin-glass droplets build on the top of the low energy state. To reconstruct the low-energy spectrum from identified localized excitation one can use <code>unpack_droplets</code> function. In the <code>Solution</code> structure, we store the states build from Potts variables of higher dimensions. To return to binary Ising spins, the Potts states are decoded using the <code>decode_potts_hamiltonian_state</code> function.</p><h3 id="Expected-output"><a class="docs-heading-anchor" href="#Expected-output">Expected output</a><a id="Expected-output-1"></a><a class="docs-heading-anchor-permalink" href="#Expected-output" title="Permalink"></a></h3><p>The output of this example should print number of droplets found during each transformation and the best energy found during the optimization:</p><pre><code class="language- hljs">println(&quot;Best energy found: $(ground)&quot;)</code></pre><p>This output confirms that the ground state energies found under different lattice transformations are consistent.</p><p>The full function is executed as:</p><pre><code class="language- hljs">T = Float64
@time run_square_diag_bench(T; topology = (3, 3, 2))</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../algorithm/">Brief description of the algorithm »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Wednesday 26 March 2025 12:08">Wednesday 26 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
